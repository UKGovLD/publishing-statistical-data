<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
  <title>The RDF Data Cube vocabulary</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <style type="text/css">
body { padding-right: 1em; padding-left: 70px; background: white fixed no-repeat left top; padding-bottom: 2em; margin: 0px; color: black; line-height: 1.5em; padding-top: 2em; font-family: sans-serif; }
:link { background: transparent; color: #00c; }
:visited { background: transparent; color: #609; }
a:active { background: transparent; color: #c00; }
a:link img, a:visited img { border: none; }
th { font-family: sans-serif; }
td { font-family: sans-serif; }
h1, h2, h3, dt { background: white; color: #064; text-align: left; }
h1 { font: 170% sans-serif; }
h2 { font: 140% sans-serif; margin-top: 1.4em; }
h3 { font: 120% sans-serif; }
.hide { display: none; }
div.head { margin-bottom: 1em; }
div.head h1 { clear: both; margin-top: 2em; }
dl.frontmatter dt { font-weight: bold; color: black; }
dt { font-weight: normal; font-size: 100%; }
dd { margin-top: 0; margin-bottom: 0.5em; }
tt { font-size: 115%; }
pre { background-color: #ffefbf; line-height: 1.2em; font-family: monospace; margin: 1em -0.2em; padding: 1.2em 1.8em 1.5em; }
code { font-family: monospace }
blockquote { background: #ddd; border-left: 0.9em solid #aaa; color: black; padding: 0.8em 1em 1em 2em; margin: 0.8em 0; }
ul.toc { list-style-type: none; }
.todo, .todo h2 { padding: 0.5em 1em; background: #ddf; }

.spare-table { border-collapse: collapse }
.spare-table thead { border-bottom: black 1px solid }
.spare-table td { padding-left: 1em; padding-right: 1em }
.spare-table td + td { border-left: black 1px solid; padding-left: 1em; padding-right: 1em }
.spare-table th + th { border-left: black 1px solid }

@media Aural {
  h1 { stress: 20; richness: 90; }
  h2 { stress: 20; richness: 90; }
  h3 { stress: 20; richness: 90; }
  .hide { speak: none; }
  p.copyright { volume: x-soft; speech-rate: x-fast; }
  dt { pause-before: 20%; }
  pre { speak-punctuation: code; }
}
  </style>
</head>

<body>

<div class="head">
<h1 id="title">The RDF Data Cube vocabulary</h1>
<dl class="frontmatter">
<!--
  <dt>This version:</dt>
  <dd><a href="@@@">@@@</a></dd>

  <dt>Latest version:</dt>
  <dd><a href="@@@">@@@</a></dd>
--> <dt>Last update:</dt>
  <dd>2010-07-14</dd>
<!--
  <dt>Revision:</dt>
  <dd>$Revision: 8 $</dd>
--> <dt>Editors:</dt>
  <dd>Richard Cyganiak (<a href="http://www.deri.ie">DERI, NUI Galway</a>)</dd>
  <dd>Dave Reynolds (<a href="http://www.epimorphics.com">Epimorphics
Ltd</a>)</dd>
  <dd>Jeni Tennison (<a href="http://www.jenitennison.com/blog/">TSO</a>)</dd>
  <dd>Chris Dollin (<a href="http://www.epimorphics.com">Epimorphics Ltd</a>)</dd>
  <dd>@@@ add yourself!</dd>
</dl>
<hr>
</div>

<h2 id="abstract">Abstract</h2>
<p>There are many situations were it would be useful to be able to
publish
multi-dimensional data, such as statistics, on the web in such a way
that it can be linked to related data sets and concepts. The Data Cube
vocabulary provides a means to
to do this using the W3C <a href="http://www.w3.org/TR/REC-rdf-syntax/">RDF</a>
(Resource Description Framework) standard. The model underpinning the
Data Cube vocabulary is
compatible with the cube model that underlies SDMX (Statistical Data
and Metadata eXchange), an ISO standard for exchanging and sharing
statistical data and metadata among organizations. The Data Cube
vocabulary is intended to support extension
vocabularies which can enable publication of other aspects of
statistical data flows.</p>

<h2 id="status">Status of this document</h2>
<p>This is an editor's draft without any formal standing. It is not
endorsed by any organisation. Anything in this document is still
subject to change at this point. The editors seek feedback on the
document. Please send any comments
to the <a
 href="http://groups.google.com/group/publishing-statistical-data">project's
Google Group</a>.</p>

<hr>

<h2 id="toc">Table of Contents</h2>
<ul class="toc">
  <li><a href="#introduction">1. Introduction</a>
    <ul class="toc">
      <li><a href="#intro-cube">1.1 A Data Cube vocabulary</a></li>
      <li><a href="#intro-rdf">1.2 RDF and Linked Data</a></li>
      <li><a href="#intro-sdmx">1.3 SDMX and related standards</a></li>
      <li><a href="#intro-scovo">1.4 Relationship to SCOVO</a></li>
      <li><a href="#intro-audience">1.5 Audience and scope</a></li>
      <li><a href="#introconventions">1.6 Document conventions</a></li>
    </ul>
  </li>
  <li><a href="#data-cubes">2. Data cubes</a>
    <ul class="toc">
      <li><a href="#cubes-model">2.1 The cube model - dimensions, attributes, measures</a></li>
      <li><a href="#cubes-slices">2.2 Slices</a></li>
    </ul>
  </li>
  <li><a href="#example">3. An example</a></li>
  <li><a href="#outline">4. Outline of the vocabulary</a></li>
  <li><a href="#dsd">5. Creating data structure definitions</a> 
    <ul class="toc">
      <li><a href="#dsd-dimensions">5.1 Dimensions, attributes and measures</a></li>
      <li><a href="#dsd-cog">5.2 Content oriented guidelines</a></li>
      <li><a href="#dsd-example">5.3 Example</a></li>
      <li><a href="#dsd-dsd">5.4 ComponentSpecifications and DataStructureDefinitions</a></li>
      <li><a href="#dsd-mm">5.5 Handling multiple measures</a></li>
    </ul>
  </li>
  <li><a href="#datasets">6. Expressing datasets</a> </li>
  <li><a href="#schemes">7. Concepts schemes and code lists</a> </li>
  <li><a href="#collections">8. Slices and collections of data sets</a> </li>
  <li><a href="#metadata">9. DataSet metadata</a> </li>
  <li><a href="#publishing">10. Publishing</a></li>
  <li><a href="#reference">11. Vocabulary reference</a></li>
  <li><a href="#acknowledgements">Acknowledgements</a></li>
  <li><a href="#references">References</a></li>
  <li><a href="#namespaces-used-appendix">Appendix 1: namespaces used
in this document</a></li>
</ul>
<hr>

<h2 id="introduction">1. Introduction</h2>

<h3 id="intro-cube">1.1 A Data Cube vocabulary</h3>
<p>
Statistical data underpins many of the mash-ups and visualisations
we see on the web, as well as being the foundation for policy
prediction, planning and adjustments. There is strong interest
in being able to publish statistical data in a web-friendly format
to enable it to be linked and combined with related information.
</p>

<p>
At the heart of a statistical dataset is a set of observed values
organized along a group of dimensions, along with associated metadata.
The Data Cube vocabulary enables such information to be represented
using the the W3C <a href="http://www.w3.org/TR/REC-rdf-syntax/">RDF</a>
(Resource Description Framework) standard and published following the
principles of
<a href="http://linkeddata.org/">linked data</a>.
The vocabulary is based upon the model used by the SDMX ISO standard
for statistical data exchange. This <em>cube</em> model is very
general and so the Data Cube vocabulary can be used for other data sets
such as survey data, spreadsheets and OLAP [@@ref] data cubes.
</p>

<p>
The Data Cube vocabulary has been kept deliberately scoped to the web
publication of multi-dimensional data. We envisage a series of modular
vocabularies being developed which extend this core foundation. In
particular, we see the need for a SDMX extension vocabulary to support the
publication of additional context to statistical data (such as the encompassing Data
Flows and associated Provision Agreements). Other extensions are possible to
support metadata for surveys (so called "micro-data", as encompassed by <a
 href="http://www.ddialliance.org/">DDI</a>)
or publication of statistical reference metadata.
</p>

<p>The Data Cube in turn builds upon the following existing RDF
vocabularies:</p>
<ul>
  <li><a href="http://www.w3.org/2004/02/skos/">SKOS</a> for ItemSchemes</li>
  <li><a href="http://sw.joanneum.at/scovo/schema.html">SCOVO</a> for
core statistical structures</li>
  <li><a href="http://rdfs.org/ns/void-guide">VoiD</a> for data access</li>
  <li><a href="http://xmlns.com/foaf/0.1/">FOAF</a> for organisations</li>
  <li><a href="http://purl.org/dc/terms/">Dublin Core Terms</a> for
metadata</li>
</ul>

<h3 id="intro-rdf">1.2 RDF and Linked Data</h3>

<p><em>Linked data</em> is an approach to publication of data on the web.
It is a set of best practices to enable systems to use the Web to connect
related data that wasn't previously linked, or lower the barriers to
linking data currently linked using other methods. The approach [@@ref]
recommends use of HTTP URIs to name the entities and concepts so that consumers of
the data can lookup those URIs to get more information, including links
to other related URIs.
RDF [@@ref] provides a standard for the representation of the
information that describes those entities and concepts, and is returned
by dereferencing the URIs. </p>

<p>There are a number of benefits to being able to publish statistical
and similar data using RDF and the linked data approach:</p>
<ul>
  <li>The individual observations, and groups of observations, become
(web) addressable. This allows publishers and third parties to annotate
and link to this data; for example a report can reference the specific
figures it is based on allowing for fine grained provenance trace-back.</li>
  <li>Data can be flexibly combined across datasets and between
statistical and non-statistical sets (for example <em>find all
Religious schools in census areas with high values for National
Indicators pertaining to religious tolerance</em>). The statistical
data becomes an integral part of the broader web of linked data.</li>
  <li>For publishers who currently only offer static files then
publishing as linked-data offers a flexible, non-proprietary, machine
readable means of publication that supports an out-of-the-box web API
for programmatic access.</li>
</ul>

<h3 id="intro-sdmx">1.3 SDMX and related standards</h3>

<p>The Statistical Data and Metadata Exchange (SDMX) Initiative
was organised in 2001 by seven international organisations (BIS,
ECB, Eurostat, IMF, OECD, World Bank and the UN) to
realise greater efficiencies in statistical practice. These
organisations all
collect significant amounts of data, mostly from the national level,
to support policy. They also disseminate data at the supra-national
and international levels.</p>

<p>
There have been several important results from this work: two
versions of a set of technical specifications - ISO:TS 17369
(SDMX) - and the release of several recommendations for
structuring and harmonising cross-domain statistics, the SDMX
Content-Oriented Guidelines. All of the products are available at
<a href="http://www.sdmx.org">www.sdmx.org</a>. The standards are now
being widely adopted
around the world for the collection, exchange, processing, and
dissemination of aggregate statistics by official statistical
organisations. The UN Statistical Commission recommended
SDMX as the preferred standard for statistics in 2007.
</p>

<p>The SDMX specification defines a core <em>information model</em>
which is reflected in concrete form in two syntaxes - SDMX-ML (and XML
syntax) and SDMX-EDI.
The Data Cube vocabulary builds upon the core of the SDMX information
model.
</p>

<p>A key component of the SDMX standards package are
the <strong>Content-Oriented Guidelines</strong> (COGs), a set of
cross-domain concepts, code lists, and categories that support
interoperability and comparability between datasets by providing a
shared language between SDMX implementers. RDF versions of these
artifacts are available separately for use along with the Data Cube
vocabulary.
</p>

<h3 id="intro-scovo">1.4 Relationship to SCOVO</h3>

<p>The Statistical Core Vocabulary (SCOVO) [@@ref] is a lightweight
RDF vocabulary for expressing statistical data. Its relative
simplicity allows easy adoption by data producers and consumers, and
it can be combined with other RDF vocabularies for greater effect. The
model is extensible both on the schema and the instance level for more
specialized use cases.</p>
<p>While SCOVO addresses the basic use case of expressing statistical
data in RDF, its minimalist design is limiting, and it does not
support important scenarios that occur in statistical publishing, such
as:</p>

<ul>
  <li>definition and publication of the structure of a dataset
independent from concrete data,</li>
  <li>data flows which group together datasets that share the same
structure, for example from different national data providers,</li>
  <li>definition of "slices" through a dataset, such as an individual
time series or cross-section, for individual annotation,</li>
  <li>distinctions between dimensions, attributes and measures.</li>
</ul>

<p>
The design of the Data Cube vocabulary is informed by SCOVO,
and every SCOVO dataset can be re-expressed within the vocabulary.
</p>

<h3 id="intro-audience">1.5 Audience and scope</h3>

<p>This document describes the Data Cube vocabulary
It is aimed at people wishing to publish
statistical or other multi-dimension data in RDF.
Mechanics of cross-format translation from other
formats such as SDMX-ML will be covered elsewhere.</p>

<h3>1.7 Document conventions</h3>

<p>
The names of RDF entities -- classes, predicates, instances, etc -- are
URIs. These are usually expressed using a compact notation where the
name is written <code>prefix:localname</code>, where the <code>prefix</code>
identifies a <i>namespace URI</i> which is to be prepended to the <code>localname</code>
to obtain the full URI.
</p>

<p>
In this document we shall use the conventional prefix names for the
<a href="#namespaces-used-appendix">well-known namespaces</a>:
</p>
<ul>
  <li><code>rdf, rdfs</code> -- the core RDF namespaces</li>
  <li><code>dc</code> -- Dublin Core</li>
  <li><code>skos</code> -- Simple Knowledge Organization System</li>
  <li><code>foaf</code> -- Friend Of A Friend</li>
  <li><code>void</code> -- Vocabulary of Interlinked Datasets</li>
  <li><code>scovo</code> -- Statistical Core Vocabulary</li>
</ul>
<p>We also introduce the prefix <code>qb</code> for the Data Cube
namespace.</p>

<h2 id="data-cubes">2. Data cubes</h2>

<h3 id="cubes-model">2.1 The cube model - dimensions, attributes,
measures</h3>

<p>A statistical data set comprises a collection of observations made
at some points across a logical space. The set can be characterized by
a set of dimensions that define what the observation applies to (time,
area, population) along with metadata describing what has been
measured (e.g. economic activity), how it was measured and how the
observations are expressed (e.g. units, multipliers, status). We thus
think of the statistical data set as multi-dimensional
space, or hyper-cube, indexed by those dimensions. This space is
commonly referred to
as a <em>cube</em> for short; though the name shouldn't be taken
literally, it is not meant to imply that
there are exactly three dimensions (there can be more or fewer) nor
that
all the dimensions are somehow similar in size.</p>

<p>So a cube is organized according to a set of <em>dimensions</em>,
<em>attributes</em> and <em>measures</em> (which we collectively call <em>components</em>).</p>

<p>The <em>dimension</em> components serve to both identify
and describe the observations. A set of values for all the dimension
components
is sufficient to identify a single observation. Examples of dimensions
include the
time to which the observation applies or a geographic region.</p>

<p>The <em>measure</em> components represent the phenomena being
observed.</p>

<p>The <em>attribute</em> components allow useto qualify and
interpret the observed value. They enable specification of the units of
measures, any scaling factors and metadata such as the status
of the observation (e.g. <em>estimated</em>, <em>provisional</em>).</p>

<h3 id="cubes-slices">2.2 Slices</h3>

<p>It is frequently useful to group subsets of observations within a
dataset, in particular to fix all but one (or a small subset) of the
dimensions and be able to refer to all observations with those
dimension values as a unit. We call such a selection a <em>slice</em>
through the cube. For example, a slice in which in which the only free
dimension is time, through a data
on regional performance indicators, would represent a time series of
observations of a given indicator at the same location.</p>

<p>A data publisher may identify slices through the data for various
purposes. The may be used to associate metadata, for example to note a
change in measurement process which
affects a particular time or region. They also allow the publisher to
identify and label particular slices which should be presented to the
user. This allows a consuming application
to easily construct the appropriate graph or chart for presentation.
Though consuming applications can, in principle, select different
subsets of the whole cube if they are available to them.</p>

<p>In statistical applications it is common to work with
slices in which a single dimension is free, i.e. vectors through the
cube. In particular,
to refer to vectors in which the single free dimension is time as <em>Time
Series</em> and to refer vectors along non-time dimensions as <em>Sections</em>.
Within the Data Cube vocabulary we allow arbitrary dimensionality
slices and do not give different names to particular vector slices but
extension vocabularies such as SDMX-RDF can easily add such
concept labels.</p>

<h2 id="example">3. An example</h2>

<p>In order to illustrate the use of the data cube vocabulary we will
use a small demonstration
data set extracted from
<a href="http://statswales.wales.gov.uk/index.htm">StatsWales</a> report
number 003311 which describes life expectancy broken down by region
(unitary authority), age and time. The small extract is:<br>
</p>

<table style="text-align: left; width: 80%;" border="1" cellpadding="2"
 cellspacing="0">
  <tbody>
    <tr>
      <td style="vertical-align: top;"><br>
      </td>
      <td colspan="2" rowspan="1"
 style="vertical-align: top; text-align: center; font-weight: bold;">2004-6<br>
      </td>
      <td colspan="2" rowspan="1"
 style="vertical-align: top; text-align: center; font-weight: bold;">2005-7<br>
      </td>
      <td colspan="2" rowspan="1"
 style="vertical-align: top; text-align: center; font-weight: bold;">2006-8<br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"><br>
      </td>
      <td
 style="vertical-align: top; text-align: center; font-weight: bold;">Male<br>
      </td>
      <td
 style="vertical-align: top; text-align: center; font-weight: bold;">Female<br>
      </td>
      <td
 style="vertical-align: top; text-align: center; font-weight: bold;">Male<br>
      </td>
      <td
 style="vertical-align: top; text-align: center; font-weight: bold;">Female<br>
      </td>
      <td
 style="vertical-align: top; text-align: center; font-weight: bold;">Male<br>
      </td>
      <td
 style="vertical-align: top; text-align: center; font-weight: bold;">Female<br>
      </td>
    </tr>
    <tr>
      <td
 style="vertical-align: top; text-align: right; font-weight: bold;">Newport<br>
      </td>
      <td style="vertical-align: top;">76.7<br>
      </td>
      <td style="vertical-align: top;">80.7<br>
      </td>
      <td style="vertical-align: top;">77.1<br>
      </td>
      <td style="vertical-align: top;">80.9<br>
      </td>
      <td style="vertical-align: top;">77.0<br>
      </td>
      <td style="vertical-align: top;">81.5<br>
      </td>
    </tr>
    <tr>
      <td
 style="vertical-align: top; text-align: right; font-weight: bold;">Cardiff<br>
      </td>
      <td style="vertical-align: top;">78.7<br>
      </td>
      <td style="vertical-align: top;">83.3<br>
      </td>
      <td style="vertical-align: top;">78.6<br>
      </td>
      <td style="vertical-align: top;">83.7<br>
      </td>
      <td style="vertical-align: top;">78.7<br>
      </td>
      <td style="vertical-align: top;">83.4<br>
      </td>
    </tr>
    <tr>
      <td
 style="vertical-align: top; text-align: right; font-weight: bold;">Monmouthshire<br>
      </td>
      <td style="vertical-align: top;">76.6<br>
      </td>
      <td style="vertical-align: top;">81.3<br>
      </td>
      <td style="vertical-align: top;">76.5<br>
      </td>
      <td style="vertical-align: top;">81.5<br>
      </td>
      <td style="vertical-align: top;">76.6<br>
      </td>
      <td style="vertical-align: top;">81.7<br>
      </td>
    </tr>
    <tr>
      <td
 style="vertical-align: top; text-align: right; font-weight: bold;">Merthyr
Tydfil<br>
      </td>
      <td style="vertical-align: top;">75.5<br>
      </td>
      <td style="vertical-align: top;">79.1<br>
      </td>
      <td style="vertical-align: top;">75.5<br>
      </td>
      <td style="vertical-align: top;">79.4<br>
      </td>
      <td style="vertical-align: top;">74.9<br>
      </td>
      <td style="vertical-align: top;">79.6<br>
      </td>
    </tr>
  </tbody>
</table>

<p>We can see that there are three dimensions - time period (averages over two year timespans),
  region, sex. Each observation represents the life expectancy for that population
so will need an attribute to define the units (years) and the topic (life expectancy).</p>

<h2 id="outline">4. Outline of the vocabulary</h2>

<img src="./qb-fig1.png" />

<p>
  <em>@@ short cut links to the reference section (auto generated?)</em>
</p>

<h2 id="dsd">5. Creating data structure definitions</h2>

<p>A <em>data structure definition</em> defines the structure of one or more
datasets. In particular, it defines the dimensions, attributes and measures 
used in the dataset along with qualifying information such as ordering of
  dimensions and whether attributes are required or optional. For well-formed
  data sets much of this information is implicit within the RDF component properties
  found on the observations. However, the explicit declaration of the structure has
  several benefits:</p>

<ul>
  <li>enables verification that the data set matches the expected structure,
   in particular helps with detection of incoherent sets obtained by 
   combining differently structured source data;</li>
  <li>allows a consumer to easily determine what dimensions are available for query
    and their presentational order, which in turn simplifies UI construction;</li>
  <li>supports transmission of the structure information in associated SDMX data flows.</li>
</ul>

<h3 id="dsd-dimensions">5.1 Dimensions, attributes and measures</h3>

<p>The Data Cube vocabulary represents the dimensions, attributes and measures
  as RDF properties. Each is an instance of the abstract <code>qb:ComponentProperty</code> 
  class,  which in turn has sub-classes <code>qb:DimensionProperty</code>,
  <code>qb:AttributeProperty</code> and <code>qb:MeasureProperty</code>.</p>

<p>A component property encapsulates several pieces of information:</p>
<ul>
  <li>the concept being represented (e.g. the time to which the observation applies),</li>
  <li>nature of the component (dimension, attribute or measure) as represented by the type of the component,</li>
  <li>the type or code list used to represent the value.</li>
</ul>

<p>The same <em>concept</em> can be manifested in different components. For example, the concept
  of <em>currency</em> may be used as a dimension (in a data set dealing with exchange rates) or as
  an attribute (when describing the currency in which an observed trade took place). The concept of time
  is typically used only as a dimension but may be encoded as a data value (e.g. an <code>xsd:dateTime</code>)
  or as a symbolic value (e.g. a URI drawn from the reference time URI set developed by data.gov.uk).
  In statistical agencies it is common to have a standard thesaurus of statistical concepts which 
  underpin the components used in multiple different data sets.</p>

<p>To cater for this the data cube vocabulary provides the <code>qb:concept</code> property which
  links a <code>qb:ComponentProperty</code> to the concept it represents. We use the SKOS
  vocabulary [@@ref] to represent such concepts. This is very natural for those cases where the  
  concepts are already maintained as a controlled term list or thesaurus.
   When developing a data structure definition for an informal data set there may not be an appropriate 
   concept already. In those cases, if the concept is likely to be reused in other guises it is recommended to
  mint a <code>skos:Concept</code> along with the specific <code>qb:ComponentProperty</code>. However, if
  such reuse is not expected then it is not required to do so, the <code>qb:concept</code>
  link is optional and a simple instance of the appropriate subclass of <code>qb:ComponentProperty</code> is
  sufficient.</p>

<p>The representation of the value of the component is described using the <code>rdfs:range</code>
   property of the component in the usual RDF manner. However, in statistical data sets it is common
   for values to be encoded using some (possibly hierarchical) code list. To cater for this a 
  component can also be optionally annotated with a <code>qb:codeList</code> denoting a <code>skos:ConceptScheme</code>.
  A common approach is to represent such code lists using SKOS but to also define an <code>rdfs:Class</code>
  whose members are all the <code>skos:Concept</code>s within the scheme. In that way 
  the <code>rdfs:range</code> can be declared appropriately which enables generic RDF tools to perform
  appropriate range checking.</p>

<p>Note that in the SDMX extension vocabulary there is one further item of information to encode
  about components - the role that they play within the structure definition. In particular, is sometimes
  convenient for consumers to be able to easily identify which dimension is playing the role of time,
  which component is the primary measure and so forth. It turns out that such roles are intrinsic to
  the concepts and so this information is encoded by providing subclasses of <code>skos:Concept</code>
  for each role. The particular choice of roles here is specific to the SDMX standard and so is not 
  included within the core data cube vocabulary. In cases where such roles are appropriate then we 
  encourage applications of the data cube vocabulary to also supply the relevant SDMX-derived role
  information.</p>

<p>Before illustrating the components needed for our running example, there is one more piece
  of machinery to introduce, a reusable set of concepts and components based on SDMX.</p>

<h3 id="dsd-cog">5.2 Content oriented guidelines</h3>

<p>The SDMX standard includes a set of <em>content oriented guidelines</em> (COG) [@@ref] which define a
   set of common statistical concepts and associated code lists that are intended to be 
   reusable across data sets. As part of the data cube work we have created RDF analogues
  to the COG. These include:</p>
  <ul>
    <li><code>sdmx-concept</code>: SKOS Concepts for each COG defined concept;</li>
    <li><code>sdmx-code</code>: SKOS Concepts and ConceptSchemes for each COG defined code list;</li>
    <li><code>sdmx-dimension</code>: component properties corresponding to each COG concept that can be used as a dimension;</li>
    <li><code>sdmx-attribute</code>: component properties corresponding to each COG concept that can be used as a attribute;</li>
    <li><code>sdmx-measure</code>: component properties corresponding to each COG concept that can be used as a measure.</li>
  </ul>

<p>The data cube vocabulary is standalone and it is not mandatory to use the SDMX COG-derived
   terms. However, when the concepts being expressed do match a COG concept it is recommended
   that publishers should reuse the corresponding components and/or concept URIs to simplify comparisons
  across data sets. Given this background we will reuse the relevant COG components in our worked example.</p>

<h3 id="dsd-example">5.3 Example</h3>

<p>Turning to our example data set then we can see there are three dimensions to represent
   - time period, region (unitary authority) and sex of the population. There is a single
   (primary) measure which corresponds to the topic of the data set (life expectancy) and
  encodes a value in years. So we need the follow components.</p>

<p><b>Time.</b> There is a suitable predefined concept in the SMDX-COG for this, REF_PERIOD, so 
  we could reuse the corresponding component property <code>sdmx-dimension:refPeriod</code>. However,
  to represent the time period itself it would be convenient to use the data.gov.uk reference
  time service and to declare this within the data structure definition.</p>

<pre>
  eg:refPeriod  a rdf:Property, qb:DimensionProperty;
      rdfs:label "reference period"@en;
      rdfs:subPropertyOf sdmx-dimension:refPeriod;
      rdfs:range interval:BusinessYear;
      qb:concept sdmx-concept:refPeriod . </pre>

<p><b>Region.</b> Again there is s suitable COG concept and associated component that
we can use for this, and again we can customize the range of the component. In this case
  we can use the Ordanance Survey administrative geography ontology [@@Ref].</p>

<pre>
  eg:refArea  a rdf:Property, qb:DimensionProperty;
      rdfs:label "reference area"@en;
      rdfs:subPropertyOf sdmx-dimension:refArea;
      rdfs:range admingeo:UnitaryAuthority;
      qb:concept sdmx-concept:refArea . </pre>

<p><b>Sex.</b> In this case we can use the corresponding COG component <code>sdmx-dimension:sex</code> 
    directly, since the default code list for it includes the terms we need.</p>

<p><b>Primary measure.</b> This property will give the value of each observation.  
  The default for this is the predefined Measure <code>qb:obsValue</code>, which in the
  SDMX extension vocabulary is linked to the COG concept <code>OBS_VALUE</code> and defined
  to be a PrimaryMeasureRole.</p>

<p><b>Unit measure attribute.</b> The primary measure on its own is a plain decimal value.
  To correctly interpret this value we need to define what units it is measured in (years in this case).
  This is defined using attributes which qualify the interpretation of the observed value.
  Specifically in this example we can use the predefined <code>sdmx-attribute:unitMeasure</code>
  which in turn corresponds to the COG concept of <code>UNIT_MEASURE</code>.</p>

<p>This covers the minimal components needed to define the structure of this data set. 
  Note that one thing we haven't defined at this point is what it is that has been measured,
  life expectancy in out example.
  One approach to this is to annotate the data set with metadata defining it's subject -
  for example by defining the concept in SKOS <em>@@Do we want to define a standard Attribute
    to support this? If not what do we recommend people use, dc:subject?@@</em>. Another 
  approach is possible using the machinery for multiple measures, we will return to this shortly.</p>

<h3 id="dsd-dsd">5.4 ComponentSpecifications and DataStructureDefinitions</h3>

<p>To combine the components into a specification for the structure of this (and any
  similarly structured) datasets which need to declare a <code>qb:DataStuctureDefinition</code>
  resource which in turn will reference a set of <code>qb:ComponentSpecification</code> resources.</p>

<p>In the simplest case the <code>qb:ComponentSpecification</code> simply references the
  corresponding <code>qb:ComponentProperty</code>. However, it is also possible to quality the
  component specification in several ways.</p>

<ul>
  <li>An Attribute may be optional in which case the specification should set 
    <code>qb:componentRequired "false"^^xsd:boolean.</code></li>
  <li>The components may be ordered by giving an integer value for <code>qb:order</code>. 
    This order carries no semantics but may be useful for consuming agents to help generate
    appropriate user interfaces.</li>
  <li>By default the values of all of the components will be attached to each individual observation,
    a so called <em>flattened</em> representation.
    This allows such observations to stand alone so that a SPARQL query to retrieve the observation
    can immediately locate the attributes which enable the observation to be interpreted. However,
    it is also permissible to attach attributes at other levels of the structure such as the
    overall data set, an intervening slice or a specific Measure (in the case of multiple measures).
    This reduces some of the redundancy in the encoding of the instance data. To declare such as 
    non-flat structure the <code>qb:componentAttachment</code> property of the specification should
    reference the Class corresponding to the attachment level (e.g. <code>qb:DataSet</code> for attributes
    that will be attached to the overall data set).</li>
</ul>

<p>In the case of our running example the dimensions can be usefully ordered. There is only one
   attribute, the unit measure, and this required. In the interests of illustrating the vocabulary
   use we will declare that this attribute will be attached at the level of the data set, however 
  flattened representations are in general easier to query and combine.</p>

<p>So the structure of our example data set (and other similar datasets) can be declared by:</p>

<pre>
  eg:dsd1 a qb:DataStructureDefinition;
      # The dimensions
      qb:specification [qb:component eg:refArea;         qb:order 1];
      qb:specification [qb:component eg:refPeriod;       qb:order 2];
      qb:specification [qb:component sdmx-dimension:sex; qb:order 3];
      # The measure(s)
      qb:specification [qb:component qb:obsValue];
      # The attributes
      qb:specification [qb:component sdmx-attribute:unitMeasure; 
                        qb:componentAttachment qb:DataSet;] .</pre>
      
<h3 id="dsd-mm">5.5 Handling multiple measures</h3>

<p>Our example data set is particularly simple in having a single observable (in this case "life expectancy") 
  that is being measured. In other data sets there can be multiple measures. These measures
  may be of similar nature (e.g. a data set on local government performance might provide
  multiple different performance indicators for each region) or quite different (e.g. a data set
  on trades might provide quantity, value, weight for each trade). In the data cube vocabulary,
  based on the SDMX information model, this situation is represented by defining an extra dimension
  for the data set which indicates the measure. The data structure definition should declare
  a <code>qb:MeasureComponent</code> to represent each measure and the primary measure should
  allow a superset of all the possible values for each measure. Then each observation will
  convey a single value corresponding to the measure indicated by the <em>measure dimension</em>.
  For convenience the vocabulary includes a predefined measure dimension - <code>qb:measureType</code>.</p>

<p>Typically the attributes which qualify the interpretation of the observed value
   (e.g. the units in which the value is measured, or a unit multiplier) will vary
   by measure. In flattened data sets the attribute value is associate with the observation
   in any case and so represents a single value of the measure specified by the measure dimension.
   In non-flattened datasets it is possible to associate the relevant attributes with the Measure itself.
  This is done by declaring the <code>qb:componentAttachment</code> for the attribute to be
  <code>qb:MeasureProperty</code> and then directly annotating the <code>qb:MeasureProperty</code> 
  instances with the relevant values for the attribute.</p>

<p><em>@@To be reviewed, we haven't decided whether to go this route.</em> From the point of view of a RDF consumer
    it can be more convenient if different RDF properties are used to convey the different measure
    values. This allows the <code>rdfs:range</code> to be declared appropriately in each case
    and can make it easier to translate between record structured data
    and the data cube representation (with a distinct observation for each value).
    To facilitate this we recommend that each declared <code>qb:MeasureProperty</code>
    should be <code>rdfs:subPropertyOf</code> <code>qb:obsValue</code>. In serialized data
    the specific measure property may be used in place of <code>qb:obsValue</code>. @@</p>

<p><em>@@To be reviewed, this only makes sense if we take the above approach to measures.</em>
  Now that we have described more of the handling of measures we can see an alternative approach
  to documenting the topic of the data set. Instead of using a metadata annotation would code
  define a specific measure:
</p>

<pre>
  eg:lifeExpectancy a rdf:Property, qb:MeasureProperty;
      rdfs:label "life expectancy"@en;
      qb:concept  <...>;
      rdfs:subPropertyOf  qb:obsValue . </pre>   

<p>Then instead of <code>qb:obsValue</code> each observation could use <code>eg:lifeExpectancy</code>
  thus making it clear what it is that has been measured by the observation. </p>

<h2 id="datasets">6. Expressing datasets</h2>

<h2 id="schemes">7. Concepts schemes and code lists</h2>
mention COG

<h2 id="collections">8. Slices and collections of data sets</h2>

<h2 id="metadata">9. DataSet metadata</h2>

<h2 id="publishing">10. Publishing</h2>

<h2 id="reference">11. Vocabulary Reference</h2>
  
<h2 id="acknowledgements">Acknowledgements</h2>

<p>This work is based on a collaboration that was initiated in a
workshop on Publishing statistical datasets in SDMX and the semantic
web, hosted by ONS in Sunningdale, United Kingdom in February 2010 and
continued at the ODaF 2010 workshop in Tilburg. The authors would like
to thank all the participants at those workshops for their input into
this work.</p>

<p>The authors would also like to thank John Sheridan for his comments,
suggestions and support for this work.</p>

<h2 id="references">References</h2>
@@@ [SCOVO] http://sw.joanneum.at/scovo/schema.html, The Statistical
Core Vocabulary
<br>
@@@ [SCOVO] http://sw-app.org/pub/eswc09-inuse-scovo.pdf, SCOVO: Using
Statistics on the Web of data
<br>
@@@ [SDMX]
http://www.sdmx.org/docs/2_0/SDMX_2_0%20SECTION_02_InformationModel.pdf,
SDMX Information Model
<br>
@@@ [RDF] http://www.w3.org/standards/techs/rdf#w3c_all, RDF Current
Status
<br>
@@@ [SCOVO, SDMX]
http://events.linkeddata.org/ldow2010/papers/ldow2010_paper03.pdf,
Semantic Statistics: Bringing Together SDMX and SCOVO
<br>
@@@
[SDMX COG SMD] <a
 href="http://sdmx.org/wp-content/uploads/2009/01/03_sdmx_cog_annex_3_smd_2009.pdf">http://sdmx.org/wp-content/uploads/2009/01/03_sdmx_cog_annex_3_smd_2009.pdf</a>
<br>
@@@
[SDMX COG CL] <a
 href="http://sdmx.org/wp-content/uploads/2009/01/02_sdmx_cog_annex_2_cl_2009.pdf">http://sdmx.org/wp-content/uploads/2009/01/02_sdmx_cog_annex_2_cl_2009.pdf</a>
 
<h2 id="namespaces-used-appendix">Appendix 1: namespaces used in this document</h2>

<table class="spare-table" style="margin-left: 5ex;">
  <thead> <tr>
    <th>prefix</th>
    <th>namespace URI</th>
    <th>vocabulary</th>
  </tr>
  </thead>
  <tbody>
    <tr>
      <td>rdf</td>
      <td>http://www.w3.org/1999/02/22-rdf-syntax-ns#</td>
      <td>RDF core</td>
    </tr>
    <tr>
      <td>rdfs</td>
      <td>http://www.w3.org/2000/01/rdf-schema#</td>
      <td>RDF Schema</td>
    </tr>
    <tr>
      <td>skos</td>
      <td>http://www.w3.org/2004/02/skos/core#</td>
      <td>Simple Knowledge Organization System</td>
    </tr>
    <tr>
      <td>foaf</td>
      <td>http://xmlns.com/foaf/0.1/</td>
      <td>Friend Of A Friend</td>
    </tr>
    <tr>
      <td>void</td>
      <td>http://rdfs.org/ns/void#</td>
      <td>Vocabulary of Interlinked Datasets</td>
    </tr>
    <tr>
      <td>scovo</td>
      <td>http://purl.org/NET/scovo#</td>
      <td>Statistical Core Vocabulary</td>
    </tr>
    <tr>
      <td>dc</td>
      <td>http://purl.org/dc/elements/1.1/</td>
      <td>Dublin Core</td>
    </tr>
    <tr>
      <td>qb</td>
      <td>http://purl.org/linked-data/cube#</td>
      <td>The Data Cube vocabulary</td>
    </tr>
  </tbody>
</table>
<hr>

<div class="todo">
<h2>Questions</h2>

<ul>
  <li>Representation of the topic in single-topic datasets?</li>
  <li>Add a description of handling of multiple meaures, qb:measureType etc</li>
  <li>Need to provide some coverage of the COG mapping in here</li>
</ul>

</div>

</body>
</html>
